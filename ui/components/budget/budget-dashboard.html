<!-- Budget Dashboard Component -->
<div class="budget-container">
  <!-- Tabbed Navigation -->
  <div class="budget-tabs">
    <div class="tab-button active" data-tab="dashboard">Dashboard</div>
    <div class="tab-button" data-tab="details">Usage Details</div>
    <div class="tab-button" data-tab="settings">Budget Settings</div>
    <div class="tab-button" data-tab="alerts">Alerts</div>
  </div>

  <!-- Dashboard Tab Content -->
  <div class="tab-content active" id="dashboard-content">
    <div class="budget-section-header">
      <h2>Budget Dashboard</h2>
      <div class="budget-controls">
        <select id="period-select" class="chart-select">
          <option value="daily">Daily View</option>
          <option value="weekly">Weekly View</option>
          <option value="monthly" selected>Monthly View</option>
        </select>
        <button class="control-button" id="refresh-dashboard">Refresh</button>
      </div>
    </div>
    
    <div class="budget-dashboard">
      <!-- Budget Summary Cards -->
      <div class="budget-summary">
        <div class="budget-summary-card">
          <div class="budget-card-header">
            <div class="budget-card-title">Daily Spend</div>
            <div class="budget-card-period">Today</div>
          </div>
          <div class="budget-amount-container">
            <div class="budget-amount">$2.47</div>
            <div class="budget-limit">/ $5.00</div>
          </div>
          <div class="budget-progress">
            <div class="budget-progress-bar" style="width: 49.4%"></div>
          </div>
          <div class="budget-card-footer">
            <div>49.4% of daily limit</div>
            <div>Today</div>
          </div>
        </div>
        
        <div class="budget-summary-card">
          <div class="budget-card-header">
            <div class="budget-card-title">Weekly Spend</div>
            <div class="budget-card-period">This Week</div>
          </div>
          <div class="budget-amount-container">
            <div class="budget-amount">$12.89</div>
            <div class="budget-limit">/ $25.00</div>
          </div>
          <div class="budget-progress">
            <div class="budget-progress-bar" style="width: 51.6%"></div>
          </div>
          <div class="budget-card-footer">
            <div>51.6% of weekly limit</div>
            <div>Apr 15 - Apr 21, 2025</div>
          </div>
        </div>
        
        <div class="budget-summary-card">
          <div class="budget-card-header">
            <div class="budget-card-title">Monthly Spend</div>
            <div class="budget-card-period">April 2025</div>
          </div>
          <div class="budget-amount-container">
            <div class="budget-amount">$36.75</div>
            <div class="budget-limit">/ $100.00</div>
          </div>
          <div class="budget-progress">
            <div class="budget-progress-bar" style="width: 36.8%"></div>
          </div>
          <div class="budget-card-footer">
            <div>36.8% of monthly limit</div>
            <div>Apr 1 - Apr 30, 2025</div>
          </div>
        </div>
        
        <div class="budget-summary-card">
          <div class="budget-card-header">
            <div class="budget-card-title">Token Usage</div>
            <div class="budget-card-period">Last 24 Hours</div>
          </div>
          <div class="budget-amount-container">
            <div class="budget-amount">1.2M</div>
            <div class="budget-limit">tokens</div>
          </div>
          <div class="budget-card-footer">
            <div>Input: 542K</div>
            <div>Output: 658K</div>
          </div>
        </div>
      </div>
      
      <!-- Charts Section -->
      <div class="budget-charts-section">
        <div class="chart-card">
          <div class="chart-card-header">
            <h3 class="chart-card-title">Spend by Provider</h3>
            <div class="chart-controls">
              <select class="chart-select">
                <option value="provider">By Provider</option>
                <option value="model">By Model</option>
                <option value="component">By Component</option>
              </select>
            </div>
          </div>
          <div class="chart-container">
            <div class="chart-placeholder" id="provider-pie-chart">
              <!-- Chart will be rendered here by JavaScript -->
              <div>Provider Distribution Chart</div>
              <div>(Placeholder)</div>
            </div>
          </div>
          <div class="chart-legend">
            <div class="legend-item">
              <span class="legend-color" style="background-color: #7356BF;"></span>
              <span>Anthropic: $27.50</span>
            </div>
            <div class="legend-item">
              <span class="legend-color" style="background-color: #10A283;"></span>
              <span>OpenAI: $9.25</span>
            </div>
            <div class="legend-item">
              <span class="legend-color" style="background-color: #FF6600;"></span>
              <span>Ollama: $0.00</span>
            </div>
          </div>
        </div>
        
        <div class="chart-card">
          <div class="chart-card-header">
            <h3 class="chart-card-title">Daily Spend Trend</h3>
            <div class="chart-controls">
              <select class="chart-select">
                <option value="7days">Last 7 Days</option>
                <option value="30days" selected>Last 30 Days</option>
                <option value="90days">Last 90 Days</option>
              </select>
            </div>
          </div>
          <div class="chart-container">
            <div class="chart-placeholder" id="trend-chart">
              <!-- Chart will be rendered here by JavaScript -->
              <div>Daily Spend Trend Chart</div>
              <div>(Placeholder)</div>
            </div>
          </div>
          <div class="chart-legend">
            <div class="legend-item">
              <span class="legend-color" style="background-color: #3B82F6;"></span>
              <span>Actual Spend</span>
            </div>
            <div class="legend-item">
              <span class="legend-color" style="background-color: #94A3B8;"></span>
              <span>Budget Limit</span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Top Usage Section -->
      <div class="budget-detail-section">
        <div class="budget-detail-header">
          <h3>Top Usage</h3>
          <div class="budget-detail-controls">
            <select class="chart-select">
              <option value="component">By Component</option>
              <option value="model" selected>By Model</option>
              <option value="task">By Task Type</option>
            </select>
          </div>
        </div>
        <div class="budget-detail-table-container">
          <table class="budget-detail-table">
            <thead>
              <tr>
                <th>Model</th>
                <th>Provider</th>
                <th>Token Count</th>
                <th>Cost</th>
                <th>% of Total</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Claude 3 Sonnet</td>
                <td><span class="model-badge anthropic">Anthropic</span></td>
                <td>230,450</td>
                <td>$3.46</td>
                <td>34.6%</td>
              </tr>
              <tr>
                <td>Claude 3 Haiku</td>
                <td><span class="model-badge anthropic">Anthropic</span></td>
                <td>543,120</td>
                <td>$0.68</td>
                <td>6.8%</td>
              </tr>
              <tr>
                <td>GPT-4</td>
                <td><span class="model-badge openai">OpenAI</span></td>
                <td>104,300</td>
                <td>$6.26</td>
                <td>62.6%</td>
              </tr>
              <tr>
                <td>Llama 3</td>
                <td><span class="model-badge ollama">Ollama</span></td>
                <td>1,250,680</td>
                <td>$0.00</td>
                <td>0.0%</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Usage Details Tab Content -->
  <div class="tab-content" id="details-content">
    <div class="budget-section-header">
      <h2>Usage Details</h2>
      <div class="budget-controls">
        <input type="date" class="chart-select" id="start-date" value="2025-04-01">
        <input type="date" class="chart-select" id="end-date" value="2025-04-21">
        <button class="control-button" id="filter-usage">Apply Filter</button>
      </div>
    </div>
    
    <div class="budget-detail-table-container">
      <table class="budget-detail-table">
        <thead>
          <tr>
            <th>Date & Time</th>
            <th>Component</th>
            <th>Provider/Model</th>
            <th>Task Type</th>
            <th>Tokens</th>
            <th>Cost</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>2025-04-21 15:42</td>
            <td>Terma</td>
            <td><span class="model-badge anthropic">Claude 3 Sonnet</span></td>
            <td>chat</td>
            <td>4,320</td>
            <td>$0.06</td>
          </tr>
          <tr>
            <td>2025-04-21 14:15</td>
            <td>Ergon</td>
            <td><span class="model-badge anthropic">Claude 3 Haiku</span></td>
            <td>agent_creation</td>
            <td>12,450</td>
            <td>$0.02</td>
          </tr>
          <tr>
            <td>2025-04-21 10:33</td>
            <td>Athena</td>
            <td><span class="model-badge openai">GPT-4</span></td>
            <td>knowledge_retrieval</td>
            <td>3,280</td>
            <td>$0.19</td>
          </tr>
          <tr>
            <td>2025-04-20 18:22</td>
            <td>Codex</td>
            <td><span class="model-badge ollama">Llama 3</span></td>
            <td>code_completion</td>
            <td>45,320</td>
            <td>$0.00</td>
          </tr>
          <tr>
            <td>2025-04-20 16:05</td>
            <td>Terma</td>
            <td><span class="model-badge anthropic">Claude 3 Sonnet</span></td>
            <td>chat</td>
            <td>8,730</td>
            <td>$0.13</td>
          </tr>
          <tr>
            <td>2025-04-20 11:47</td>
            <td>Ergon</td>
            <td><span class="model-badge anthropic">Claude 3 Haiku</span></td>
            <td>workflow_planning</td>
            <td>15,680</td>
            <td>$0.02</td>
          </tr>
          <tr>
            <td>2025-04-19 22:15</td>
            <td>Athena</td>
            <td><span class="model-badge openai">GPT-4</span></td>
            <td>data_analysis</td>
            <td>7,620</td>
            <td>$0.46</td>
          </tr>
        </tbody>
      </table>
    </div>
    
    <div class="pagination" style="margin-top: 20px; text-align: center;">
      <button class="control-button">Previous</button>
      <span style="margin: 0 10px;">Page 1 of 14</span>
      <button class="control-button">Next</button>
    </div>
  </div>

  <!-- Settings Tab Content -->
  <div class="tab-content" id="settings-content">
    <div class="budget-section-header">
      <h2>Budget Settings</h2>
      <div class="budget-controls">
        <button class="control-button primary-button" id="save-budget-settings">Save Settings</button>
      </div>
    </div>
    
    <div class="budget-settings-container">
      <!-- Budget Limits Section -->
      <div class="budget-settings-section">
        <div class="budget-settings-header">
          <h3>Budget Limits</h3>
        </div>
        <div class="budget-settings-form">
          <div class="form-group">
            <label for="daily-limit">Daily Budget Limit</label>
            <div class="form-input">
              <span class="form-input-prefix">$</span>
              <input type="number" id="daily-limit" value="5.00" min="0" step="0.01">
            </div>
          </div>
          
          <div class="form-group">
            <label for="weekly-limit">Weekly Budget Limit</label>
            <div class="form-input">
              <span class="form-input-prefix">$</span>
              <input type="number" id="weekly-limit" value="25.00" min="0" step="0.01">
            </div>
          </div>
          
          <div class="form-group">
            <label for="monthly-limit">Monthly Budget Limit</label>
            <div class="form-input">
              <span class="form-input-prefix">$</span>
              <input type="number" id="monthly-limit" value="100.00" min="0" step="0.01">
            </div>
          </div>
          
          <div class="form-group">
            <label for="enforce-policy">Enforcement Policy</label>
            <select id="enforce-policy" class="form-select">
              <option value="ignore">Track Only (No Enforcement)</option>
              <option value="warn">Show Warnings</option>
              <option value="enforce" selected>Enforce Limits (Auto Downgrade)</option>
            </select>
          </div>
        </div>
      </div>
      
      <!-- Provider Budgets Section -->
      <div class="budget-settings-section">
        <div class="budget-settings-header">
          <h3>Provider Budgets</h3>
        </div>
        <div class="budget-settings-form">
          <div class="form-group">
            <label for="anthropic-limit">Anthropic Monthly Budget</label>
            <div class="form-input">
              <span class="form-input-prefix">$</span>
              <input type="number" id="anthropic-limit" value="80.00" min="0" step="0.01">
            </div>
          </div>
          
          <div class="form-group">
            <label for="openai-limit">OpenAI Monthly Budget</label>
            <div class="form-input">
              <span class="form-input-prefix">$</span>
              <input type="number" id="openai-limit" value="20.00" min="0" step="0.01">
            </div>
          </div>
          
          <div class="form-group">
            <label for="enable-provider-limits">Enable Provider-Specific Limits</label>
            <div class="form-switch">
              <input type="checkbox" id="enable-provider-limits" checked>
              <span>Enabled</span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Advanced Settings Section -->
      <div class="budget-settings-section">
        <div class="budget-settings-header">
          <h3>Advanced Settings</h3>
        </div>
        <div class="budget-settings-form">
          <div class="form-group">
            <label for="warning-threshold">Warning Threshold</label>
            <div class="form-input">
              <input type="number" id="warning-threshold" value="80" min="1" max="100">
              <span class="form-input-prefix">%</span>
            </div>
            <span style="font-size: 12px; color: var(--text-color-secondary);">Show warnings when usage reaches this percentage of the limit</span>
          </div>
          
          <div class="form-group">
            <label for="allow-free-models">Allow Free Models When Budget Depleted</label>
            <div class="form-switch">
              <input type="checkbox" id="allow-free-models" checked>
              <span>Enabled</span>
            </div>
          </div>
          
          <div class="form-group">
            <label for="reset-day">Budget Reset Day (Monthly)</label>
            <select id="reset-day" class="form-select">
              <option value="1" selected>1st of month</option>
              <option value="15">15th of month</option>
              <option value="last">Last day of month</option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Alerts Tab Content -->
  <div class="tab-content" id="alerts-content">
    <div class="budget-section-header">
      <h2>Budget Alerts</h2>
      <div class="budget-controls">
        <button class="control-button" id="clear-alerts">Clear All</button>
      </div>
    </div>
    
    <div class="budget-settings-section">
      <div class="budget-settings-header">
        <h3>Active Alerts</h3>
      </div>
      
      <div class="alert-list">
        <div class="alert-item">
          <div class="alert-info">
            <div class="alert-icon warning">!</div>
            <div class="alert-details">
              <div class="alert-title">Weekly Budget Warning</div>
              <div class="alert-description">Weekly budget is at 82% of limit ($20.50 of $25.00)</div>
            </div>
          </div>
          <div class="alert-actions">
            <button class="control-button small-button">Dismiss</button>
          </div>
        </div>
        
        <div class="alert-item">
          <div class="alert-info">
            <div class="alert-icon info">i</div>
            <div class="alert-details">
              <div class="alert-title">OpenAI Budget Update</div>
              <div class="alert-description">OpenAI provider reached 90% of its monthly allocation</div>
            </div>
          </div>
          <div class="alert-actions">
            <button class="control-button small-button">Dismiss</button>
          </div>
        </div>
      </div>
    </div>
    
    <div class="budget-settings-section">
      <div class="budget-settings-header">
        <h3>Alert Settings</h3>
      </div>
      
      <div class="budget-settings-form">
        <div class="form-group">
          <label for="enable-email-alerts">Email Alerts</label>
          <div class="form-switch">
            <input type="checkbox" id="enable-email-alerts" checked>
            <span>Enabled</span>
          </div>
        </div>
        
        <div class="form-group">
          <label for="alert-email">Alert Email Address</label>
          <input type="email" id="alert-email" value="admin@example.com" class="form-select">
        </div>
        
        <div class="form-group">
          <label for="alert-frequency">Alert Frequency</label>
          <select id="alert-frequency" class="form-select">
            <option value="immediate">Immediate</option>
            <option value="daily" selected>Daily Summary</option>
            <option value="weekly">Weekly Summary</option>
          </select>
        </div>
      </div>
      
      <div class="form-actions">
        <button class="control-button primary-button" id="save-alert-settings">Save Alert Settings</button>
      </div>
    </div>
  </div>
</div>