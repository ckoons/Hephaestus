<!-- Rhetor Component UI Template -->
<div class="rhetor-container">
  <!-- Tabbed Navigation -->
  <div class="rhetor-tabs">
    <div class="rhetor-tabs__button rhetor-tabs__button--active" data-tab="providers">Providers</div>
    <div class="rhetor-tabs__button" data-tab="templates">Templates</div>
    <div class="rhetor-tabs__button" data-tab="conversations">Conversations</div>
    <div class="rhetor-tabs__button" data-tab="budget">Budget</div>
    <div class="rhetor-tabs__button" data-tab="settings">Settings</div>
  </div>

  <!-- Provider Selection Tab Content -->
  <div class="rhetor-tabs__content rhetor-tabs__content--active" id="providers-content">
    <div class="rhetor-section-header">
      <h2>LLM Providers</h2>
      <div class="rhetor-controls">
        <button class="rhetor-button rhetor-button--primary" id="save-provider">Set Default</button>
        <button class="rhetor-button" id="test-provider">Test Connection</button>
      </div>
    </div>
    
    <!-- Provider Selection Form -->
    <div class="rhetor-provider-selector">
      <div class="rhetor-form__group">
        <label for="provider-select" class="rhetor-form__label">Provider</label>
        <select id="provider-select" class="rhetor-form__select">
          <option value="anthropic">Anthropic</option>
          <option value="openai">OpenAI</option>
          <option value="ollama">Ollama (Local)</option>
          <option value="simulated">Simulated (Fallback)</option>
        </select>
      </div>
      
      <div class="rhetor-form__group">
        <label for="model-select" class="rhetor-form__label">Model</label>
        <select id="model-select" class="rhetor-form__select">
          <option value="claude-3-opus-20240229">Claude 3 Opus</option>
          <option value="claude-3-sonnet-20240229">Claude 3 Sonnet</option>
          <option value="claude-3-haiku-20240307">Claude 3 Haiku</option>
        </select>
      </div>
      
      <div class="rhetor-form__group">
        <label for="temperature-slider" class="rhetor-form__label">Temperature</label>
        <div class="rhetor-slider-container">
          <input type="range" id="temperature-slider" min="0" max="1" step="0.1" value="0.7" class="rhetor-form__slider">
          <span class="rhetor-slider__value">0.7</span>
        </div>
      </div>
      
      <div class="rhetor-form__group">
        <label for="max-tokens" class="rhetor-form__label">Max Output Tokens</label>
        <input type="number" id="max-tokens" value="1000" min="100" max="4096" class="rhetor-form__input">
      </div>
    </div>
    
    <div class="rhetor-provider-stats">
      <div class="rhetor-stat-card">
        <div class="rhetor-stat-card__label">Connection Status</div>
        <div class="rhetor-stat-card__value rhetor-stat-card__value--connected">Connected</div>
      </div>
      <div class="rhetor-stat-card">
        <div class="rhetor-stat-card__label">Daily Usage</div>
        <div class="rhetor-stat-card__value">542K tokens</div>
      </div>
      <div class="rhetor-stat-card">
        <div class="rhetor-stat-card__label">Estimated Cost</div>
        <div class="rhetor-stat-card__value">$2.47</div>
      </div>
    </div>
    
    <div class="rhetor-model-tier-table">
      <h3>Available Models by Tier</h3>
      <table class="rhetor-table">
        <thead>
          <tr>
            <th>Tier</th>
            <th>Model</th>
            <th>Provider</th>
            <th>Cost / 1K Tokens</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><span class="rhetor-tier-badge rhetor-tier-badge--free">Free</span></td>
            <td>llama3</td>
            <td>Ollama</td>
            <td>$0.00</td>
          </tr>
          <tr>
            <td><span class="rhetor-tier-badge rhetor-tier-badge--low">Low</span></td>
            <td>Claude 3 Haiku</td>
            <td>Anthropic</td>
            <td>$0.00125</td>
          </tr>
          <tr>
            <td><span class="rhetor-tier-badge rhetor-tier-badge--medium">Medium</span></td>
            <td>Claude 3 Sonnet</td>
            <td>Anthropic</td>
            <td>$0.015</td>
          </tr>
          <tr>
            <td><span class="rhetor-tier-badge rhetor-tier-badge--high">High</span></td>
            <td>Claude 3 Opus</td>
            <td>Anthropic</td>
            <td>$0.075</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Template Management Tab Content -->
  <div class="rhetor-tabs__content" id="templates-content">
    <div class="rhetor-section-header">
      <h2>Template Management</h2>
      <div class="rhetor-controls">
        <button class="rhetor-button rhetor-button--primary" id="create-template">New Template</button>
        <select id="template-category" class="rhetor-form__select">
          <option value="all">All Categories</option>
          <option value="system">System</option>
          <option value="task">Task</option>
          <option value="component">Component</option>
        </select>
      </div>
    </div>
    
    <div class="rhetor-template-list">
      <!-- Template Items -->
      <div class="rhetor-template-item">
        <div class="rhetor-template-item__header">
          <div class="rhetor-template-item__name">System Core Prompt</div>
          <div class="rhetor-template-item__badge rhetor-template-item__badge--system">system</div>
          <div class="rhetor-template-item__version">v1.2</div>
        </div>
        <div class="rhetor-template-item__description">
          Core system prompt for general AI interactions
        </div>
        <div class="rhetor-template-item__footer">
          <button class="rhetor-template-item__button">Edit</button>
          <button class="rhetor-template-item__button">Test</button>
          <button class="rhetor-template-item__button">History</button>
        </div>
      </div>
      
      <div class="rhetor-template-item">
        <div class="rhetor-template-item__header">
          <div class="rhetor-template-item__name">Code Generation</div>
          <div class="rhetor-template-item__badge rhetor-template-item__badge--task">task</div>
          <div class="rhetor-template-item__version">v2.1</div>
        </div>
        <div class="rhetor-template-item__description">
          Template for generating code with specific formatting
        </div>
        <div class="rhetor-template-item__footer">
          <button class="rhetor-template-item__button">Edit</button>
          <button class="rhetor-template-item__button">Test</button>
          <button class="rhetor-template-item__button">History</button>
        </div>
      </div>
      
      <div class="rhetor-template-item">
        <div class="rhetor-template-item__header">
          <div class="rhetor-template-item__name">Terma Console Prompt</div>
          <div class="rhetor-template-item__badge rhetor-template-item__badge--component">component</div>
          <div class="rhetor-template-item__version">v1.0</div>
        </div>
        <div class="rhetor-template-item__description">
          Terminal-specific prompt template for Terma component
        </div>
        <div class="rhetor-template-item__footer">
          <button class="rhetor-template-item__button">Edit</button>
          <button class="rhetor-template-item__button">Test</button>
          <button class="rhetor-template-item__button">History</button>
        </div>
      </div>
    </div>
    
    <!-- Template Editor (hidden by default) -->
    <div class="rhetor-template-editor" id="template-editor" style="display: none;">
      <h3>Edit Template: <span id="edit-template-name">System Core Prompt</span></h3>
      <div class="rhetor-form__group">
        <label for="template-name-input" class="rhetor-form__label">Template Name</label>
        <input type="text" id="template-name-input" value="System Core Prompt" class="rhetor-form__input">
      </div>
      <div class="rhetor-form__group">
        <label for="template-category-input" class="rhetor-form__label">Category</label>
        <select id="template-category-input" class="rhetor-form__select">
          <option value="system">System</option>
          <option value="task">Task</option>
          <option value="component">Component</option>
        </select>
      </div>
      <div class="rhetor-form__group">
        <label for="template-description-input" class="rhetor-form__label">Description</label>
        <textarea id="template-description-input" class="rhetor-form__textarea">Core system prompt for general AI interactions</textarea>
      </div>
      <div class="rhetor-form__group">
        <label for="template-content" class="rhetor-form__label">Template Content</label>
        <div class="rhetor-code-editor-container">
          <textarea id="template-content" class="rhetor-code-editor">You are an AI assistant that is part of the Tekton system. Your role is to provide helpful, accurate, and ethical assistance. 

Available context:
{{ context }}

User query:
{{ query }}</textarea>
        </div>
      </div>
      <div class="rhetor-form__actions">
        <button class="rhetor-button rhetor-button--secondary" id="cancel-template-edit">Cancel</button>
        <button class="rhetor-button" id="test-template">Test</button>
        <button class="rhetor-button rhetor-button--primary" id="save-template">Save Template</button>
      </div>
    </div>
  </div>

  <!-- Conversation History Tab Content -->
  <div class="rhetor-tabs__content" id="conversations-content">
    <div class="rhetor-section-header">
      <h2>Conversation History</h2>
      <div class="rhetor-controls">
        <input type="text" id="conversation-search" placeholder="Search conversations..." class="rhetor-form__input">
        <button class="rhetor-button" id="refresh-conversations">Refresh</button>
      </div>
    </div>
    
    <div class="rhetor-conversation-container">
      <div class="rhetor-conversation-list">
        <!-- Context Items -->
        <div class="rhetor-conversation-item rhetor-conversation-item--active">
          <div class="rhetor-conversation-item__name">General Chat</div>
          <div class="rhetor-conversation-item__time">3 min ago</div>
          <div class="rhetor-conversation-item__preview">Discussion about LLM model selection</div>
        </div>
        
        <div class="rhetor-conversation-item">
          <div class="rhetor-conversation-item__name">Code Review</div>
          <div class="rhetor-conversation-item__time">1 hour ago</div>
          <div class="rhetor-conversation-item__preview">Python code review for budget manager</div>
        </div>
        
        <div class="rhetor-conversation-item">
          <div class="rhetor-conversation-item__name">UI Planning</div>
          <div class="rhetor-conversation-item__time">Yesterday</div>
          <div class="rhetor-conversation-item__preview">Discussion about Hephaestus integration</div>
        </div>
      </div>
      
      <div class="rhetor-conversation-detail">
        <div class="rhetor-conversation-detail__header">
          <h3>General Chat</h3>
          <div class="rhetor-conversation-detail__actions">
            <button class="rhetor-button rhetor-button--small">Export</button>
            <button class="rhetor-button rhetor-button--small">Delete</button>
          </div>
        </div>
        
        <div class="rhetor-conversation-messages">
          <div class="rhetor-message rhetor-message--user">
            <div class="rhetor-message__content">
              <div class="rhetor-message__text">Which model would you recommend for code generation tasks?</div>
              <div class="rhetor-message__time">3:45 PM</div>
            </div>
          </div>
          
          <div class="rhetor-message rhetor-message--ai">
            <div class="rhetor-message__content">
              <div class="rhetor-message__text">For code generation tasks, I would recommend Claude 3 Sonnet as it offers a good balance between performance and cost. It's particularly effective for generating code with proper formatting and documentation. If you're working with a limited budget, you might consider using Llama 3 through Ollama which is free but may not be as accurate for complex coding tasks.</div>
              <div class="rhetor-message__meta">
                <div class="rhetor-message__model">Claude 3 Sonnet</div>
                <div class="rhetor-message__time">3:46 PM</div>
                <div class="rhetor-message__tokens">312 tokens ($0.005)</div>
              </div>
            </div>
          </div>
          
          <div class="rhetor-message rhetor-message--user">
            <div class="rhetor-message__content">
              <div class="rhetor-message__text">Thanks! And for document summarization?</div>
              <div class="rhetor-message__time">3:48 PM</div>
            </div>
          </div>
          
          <div class="rhetor-message rhetor-message--ai">
            <div class="rhetor-message__content">
              <div class="rhetor-message__text">For document summarization, Claude 3 Haiku would be sufficient in most cases. It's cost-effective while still providing high-quality summaries. For very complex technical documents or legal texts where nuance is critical, you might want to use Claude 3 Sonnet instead.</div>
              <div class="rhetor-message__meta">
                <div class="rhetor-message__model">Claude 3 Sonnet</div>
                <div class="rhetor-message__time">3:49 PM</div>
                <div class="rhetor-message__tokens">230 tokens ($0.003)</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Budget Dashboard Tab Content -->
  <div class="rhetor-tabs__content" id="budget-content">
    <div class="rhetor-section-header">
      <h2>Budget Dashboard</h2>
      <div class="rhetor-controls">
        <select id="budget-period" class="rhetor-form__select">
          <option value="day">Today</option>
          <option value="week">This Week</option>
          <option value="month">This Month</option>
        </select>
        <button class="rhetor-button" id="refresh-budget">Refresh</button>
      </div>
    </div>
    
    <div class="rhetor-budget-overview">
      <div class="rhetor-budget-card">
        <div class="rhetor-budget-card__header">
          <div class="rhetor-budget-card__title">Daily Usage</div>
          <div class="rhetor-budget-card__subtitle">Today</div>
        </div>
        <div class="rhetor-budget-card__value">
          <div class="rhetor-budget-card__amount">$2.47</div>
          <div class="rhetor-budget-card__limit">/ $5.00</div>
        </div>
        <div class="rhetor-budget-card__progress">
          <div class="rhetor-budget-card__progress-bar" style="width: 49.4%"></div>
        </div>
        <div class="rhetor-budget-card__footer">49.4% of daily limit</div>
      </div>
      
      <div class="rhetor-budget-card">
        <div class="rhetor-budget-card__header">
          <div class="rhetor-budget-card__title">Weekly Usage</div>
          <div class="rhetor-budget-card__subtitle">This Week</div>
        </div>
        <div class="rhetor-budget-card__value">
          <div class="rhetor-budget-card__amount">$12.89</div>
          <div class="rhetor-budget-card__limit">/ $25.00</div>
        </div>
        <div class="rhetor-budget-card__progress">
          <div class="rhetor-budget-card__progress-bar" style="width: 51.6%"></div>
        </div>
        <div class="rhetor-budget-card__footer">51.6% of weekly limit</div>
      </div>
      
      <div class="rhetor-budget-card">
        <div class="rhetor-budget-card__header">
          <div class="rhetor-budget-card__title">Monthly Usage</div>
          <div class="rhetor-budget-card__subtitle">April 2025</div>
        </div>
        <div class="rhetor-budget-card__value">
          <div class="rhetor-budget-card__amount">$36.75</div>
          <div class="rhetor-budget-card__limit">/ $100.00</div>
        </div>
        <div class="rhetor-budget-card__progress">
          <div class="rhetor-budget-card__progress-bar" style="width: 36.8%"></div>
        </div>
        <div class="rhetor-budget-card__footer">36.8% of monthly limit</div>
      </div>
    </div>
    
    <div class="rhetor-budget-charts">
      <div class="rhetor-chart-container">
        <h3>Usage by Provider</h3>
        <div class="rhetor-chart rhetor-chart--pie">
          <!-- Pie chart will be rendered here by JavaScript -->
          <div class="rhetor-chart__legend">
            <div class="rhetor-chart__legend-item">
              <div class="rhetor-chart__color-box rhetor-chart__color-box--anthropic"></div>
              <div class="rhetor-chart__legend-label">Anthropic: $27.50</div>
            </div>
            <div class="rhetor-chart__legend-item">
              <div class="rhetor-chart__color-box rhetor-chart__color-box--openai"></div>
              <div class="rhetor-chart__legend-label">OpenAI: $9.25</div>
            </div>
            <div class="rhetor-chart__legend-item">
              <div class="rhetor-chart__color-box rhetor-chart__color-box--ollama"></div>
              <div class="rhetor-chart__legend-label">Ollama: $0.00</div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="rhetor-chart-container">
        <h3>Daily Trend</h3>
        <div class="rhetor-chart rhetor-chart--bar">
          <!-- Bar chart will be rendered here by JavaScript -->
          <div class="rhetor-chart__legend">
            <div class="rhetor-chart__legend-item">
              <div class="rhetor-chart__color-box rhetor-chart__color-box--input"></div>
              <div class="rhetor-chart__legend-label">Input Tokens</div>
            </div>
            <div class="rhetor-chart__legend-item">
              <div class="rhetor-chart__color-box rhetor-chart__color-box--output"></div>
              <div class="rhetor-chart__legend-label">Output Tokens</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="rhetor-usage-breakdown">
      <h3>Usage Breakdown</h3>
      <table class="rhetor-table rhetor-usage-table">
        <thead>
          <tr>
            <th>Component</th>
            <th>Provider</th>
            <th>Model</th>
            <th>Tokens</th>
            <th>Cost</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Terma</td>
            <td>Anthropic</td>
            <td>Claude 3 Sonnet</td>
            <td>230,450</td>
            <td>$3.46</td>
          </tr>
          <tr>
            <td>Ergon</td>
            <td>Anthropic</td>
            <td>Claude 3 Haiku</td>
            <td>543,120</td>
            <td>$0.68</td>
          </tr>
          <tr>
            <td>Athena</td>
            <td>OpenAI</td>
            <td>GPT-4</td>
            <td>104,300</td>
            <td>$6.26</td>
          </tr>
          <tr>
            <td>Codex</td>
            <td>Ollama</td>
            <td>Llama 3</td>
            <td>1,250,680</td>
            <td>$0.00</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Settings Tab Content -->
  <div class="rhetor-tabs__content" id="settings-content">
    <div class="rhetor-section-header">
      <h2>Budget Settings</h2>
      <div class="rhetor-controls">
        <button class="rhetor-button rhetor-button--primary" id="save-budget-settings">Save Settings</button>
      </div>
    </div>
    
    <div class="rhetor-settings-section">
      <h3>Budget Limits</h3>
      
      <div class="rhetor-form__group">
        <label for="daily-budget" class="rhetor-form__label">Daily Budget Limit</label>
        <div class="rhetor-input-with-prefix">
          <span class="rhetor-input-with-prefix__symbol">$</span>
          <input type="number" id="daily-budget" value="5.00" step="0.01" min="0" class="rhetor-form__input">
        </div>
      </div>
      
      <div class="rhetor-form__group">
        <label for="weekly-budget" class="rhetor-form__label">Weekly Budget Limit</label>
        <div class="rhetor-input-with-prefix">
          <span class="rhetor-input-with-prefix__symbol">$</span>
          <input type="number" id="weekly-budget" value="25.00" step="0.01" min="0" class="rhetor-form__input">
        </div>
      </div>
      
      <div class="rhetor-form__group">
        <label for="monthly-budget" class="rhetor-form__label">Monthly Budget Limit</label>
        <div class="rhetor-input-with-prefix">
          <span class="rhetor-input-with-prefix__symbol">$</span>
          <input type="number" id="monthly-budget" value="100.00" step="0.01" min="0" class="rhetor-form__input">
        </div>
      </div>
    </div>
    
    <div class="rhetor-settings-section">
      <h3>Enforcement Policy</h3>
      
      <div class="rhetor-form__group">
        <label for="enforcement-policy" class="rhetor-form__label">When Budget Limit is Reached</label>
        <select id="enforcement-policy" class="rhetor-form__select">
          <option value="ignore">Track Only (No Enforcement)</option>
          <option value="warn">Show Warnings</option>
          <option value="enforce" selected>Enforce Limits (Auto Downgrade)</option>
        </select>
      </div>
      
      <div class="rhetor-form__group">
        <label for="allow-free-models" class="rhetor-form__label">Allow Free Models When Budget Depleted</label>
        <input type="checkbox" id="allow-free-models" checked class="rhetor-form__checkbox">
      </div>
      
      <div class="rhetor-form__group">
        <label for="warning-threshold" class="rhetor-form__label">Warning Threshold</label>
        <div class="rhetor-slider-container">
          <input type="range" id="warning-threshold" min="50" max="100" step="5" value="80" class="rhetor-form__slider">
          <span class="rhetor-slider__value">80%</span>
        </div>
      </div>
    </div>
    
    <div class="rhetor-settings-section">
      <h3>Provider-Specific Budgets</h3>
      
      <div class="rhetor-form__group">
        <label for="anthropic-budget" class="rhetor-form__label">Anthropic Monthly Budget</label>
        <div class="rhetor-input-with-prefix">
          <span class="rhetor-input-with-prefix__symbol">$</span>
          <input type="number" id="anthropic-budget" value="80.00" step="0.01" min="0" class="rhetor-form__input">
        </div>
      </div>
      
      <div class="rhetor-form__group">
        <label for="openai-budget" class="rhetor-form__label">OpenAI Monthly Budget</label>
        <div class="rhetor-input-with-prefix">
          <span class="rhetor-input-with-prefix__symbol">$</span>
          <input type="number" id="openai-budget" value="20.00" step="0.01" min="0" class="rhetor-form__input">
        </div>
      </div>
    </div>
  </div>
</div>