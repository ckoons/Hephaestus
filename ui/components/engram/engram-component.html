<\!-- Engram Component -->
<template id="engram-component-template">
  <div class="engram-container">
    <\!-- Header -->
    <div class="engram-header">
      <h2 class="engram-header__title">Engram Memory System</h2>
      <div class="engram-header__controls">
        <button id="engram-refresh" class="engram-button" title="Refresh">
          üîÑ Refresh
        </button>
      </div>
    </div>
    
    <\!-- Tabs -->
    <div class="engram-tabs">
      <button class="engram-tabs__button engram-tabs__button--active" data-tab="memory">
        <span class="engram-tabs__icon">üß†</span> Memory
      </button>
      <button class="engram-tabs__button" data-tab="chat">
        <span class="engram-tabs__icon">üí¨</span> Chat
      </button>
      <button class="engram-tabs__button" data-tab="structured">
        <span class="engram-tabs__icon">üóÑÔ∏è</span> Structured
      </button>
      <button class="engram-tabs__button" data-tab="analytics">
        <span class="engram-tabs__icon">üìä</span> Analytics
      </button>
    </div>
    
    <\!-- Tab Content -->
    <div class="engram-tab-content">
      <\!-- Memory Tab Panel -->
      <div class="engram-tab-panel engram-tab-panel--active" data-panel="memory">
        <div class="engram-panel-header">
          <div class="engram-search">
            <input type="text" id="memory-search" class="engram-search__input" placeholder="Search memories...">
            <select id="memory-namespace" class="engram-select">
              <option value="conversations">Conversations</option>
              <option value="thinking">Thinking</option>
              <option value="longterm">Long-term</option>
            </select>
            <button id="search-memory" class="engram-button">Search</button>
          </div>
          <div class="engram-panel-controls">
            <button id="add-memory" class="engram-button engram-button--primary">Add Memory</button>
          </div>
        </div>
        
        <div class="engram-memory-container" id="memory-results">
          <div class="engram-memory-container__placeholder">
            Search for memories or add new ones.
          </div>
        </div>
      </div>
      
      <\!-- Chat Tab Panel -->
      <div class="engram-tab-panel" data-panel="chat">
        <div class="engram-chat">
          <\!-- Chat Sidebar -->
          <div class="engram-chat__sidebar">
            <\!-- Chat Settings -->
            <div class="engram-chat-settings">
              <h3 class="engram-chat-settings__title">Settings</h3>
              
              <div class="engram-setting-group">
                <label class="engram-setting-label">Language Model</label>
                <select id="llm-model-select" class="engram-select">
                  <option value="claude-3-haiku-20240307">Claude 3 Haiku</option>
                  <option value="claude-3-sonnet-20240229">Claude 3 Sonnet</option>
                </select>
              </div>
              
              <div class="engram-setting-group">
                <label class="engram-setting-label">Memory Namespace</label>
                <select id="memory-namespace-select" class="engram-select">
                  <option value="conversations">Conversations</option>
                  <option value="thinking">Thinking</option>
                  <option value="longterm">Long-term</option>
                </select>
              </div>
              
              <div class="engram-setting-group">
                <label class="engram-checkbox">
                  <input type="checkbox" id="use-memory-context" checked>
                  <span class="engram-checkbox__label">Include Memory Context</span>
                </label>
              </div>
              
              <div class="engram-setting-group">
                <label class="engram-checkbox">
                  <input type="checkbox" id="chat-streaming" checked>
                  <span class="engram-checkbox__label">Enable Streaming</span>
                </label>
              </div>
              
              <div class="engram-setting-group">
                <button id="clear-chat" class="engram-button">Clear Chat</button>
              </div>
            </div>
            
            <\!-- Saved Conversations -->
            <div class="engram-chat-history">
              <h3 class="engram-chat-history__title">Saved Conversations</h3>
              
              <div id="saved-conversations" class="engram-chat-history__list">
                <div class="engram-chat-history__empty">
                  No saved conversations yet
                </div>
              </div>
              
              <div class="engram-chat-history__controls">
                <button id="save-conversation" class="engram-button">Save Conversation</button>
              </div>
            </div>
          </div>
          
          <\!-- Chat Main Area -->
          <div class="engram-chat__main">
            <\!-- Chat Messages -->
            <div id="chat-messages" class="engram-chat-messages">
              <div class="engram-message engram-message--system">
                <div class="engram-message__content">
                  <p>Welcome to Engram Memory-Enhanced Chat. I can remember our conversations and provide relevant context from my memory. How can I help you today?</p>
                </div>
              </div>
            </div>
            
            <\!-- Chat Input -->
            <div class="engram-chat-input">
              <textarea id="chat-input" class="engram-chat-input__textarea" placeholder="Type your message here..." rows="1"></textarea>
              <button id="send-message" class="engram-button engram-button--primary">Send</button>
            </div>
          </div>
        </div>
      </div>
      
      <\!-- Structured Tab Panel -->
      <div class="engram-tab-panel" data-panel="structured">
        <div class="engram-panel-header">
          <div class="engram-search">
            <input type="text" id="structured-search" class="engram-search__input" placeholder="Search structured memories...">
            <select id="structured-category" class="engram-select">
              <option value="all">All Categories</option>
              <option value="person">People</option>
              <option value="concept">Concepts</option>
              <option value="fact">Facts</option>
              <option value="session">Session</option>
            </select>
            <button id="search-structured" class="engram-button">Search</button>
          </div>
          <div class="engram-panel-controls">
            <button id="add-structured" class="engram-button engram-button--primary">Add Structured Memory</button>
          </div>
        </div>
        
        <div class="engram-structured-container" id="structured-results">
          <div class="engram-structured-container__placeholder">
            Search for structured memories or add new ones.
          </div>
        </div>
      </div>
      
      <\!-- Analytics Tab Panel -->
      <div class="engram-tab-panel" data-panel="analytics">
        <div class="engram-panel-header">
          <div class="engram-search">
            <select id="analytics-type" class="engram-select">
              <option value="usage">Usage Statistics</option>
              <option value="retrieval">Retrieval Performance</option>
              <option value="storage">Storage Metrics</option>
            </select>
            <button id="refresh-analytics" class="engram-button">Refresh</button>
          </div>
          <div class="engram-panel-controls">
            <button id="export-analytics" class="engram-button">Export Data</button>
          </div>
        </div>
        
        <div class="engram-analytics-container" id="analytics-content">
          <div class="engram-analytics-container__placeholder">
            Select an analytics type to view.
          </div>
        </div>
      </div>
    </div>
    
    <\!-- Modal -->
    <div id="engram-modal" class="engram-modal" style="display: none;">
      <div class="engram-modal__overlay"></div>
      <div class="engram-modal__content">
        <div class="engram-modal__header">
          <h3 id="modal-title" class="engram-modal__title">Modal Title</h3>
          <button id="close-modal" class="engram-modal__close">&times;</button>
        </div>
        <div id="modal-body" class="engram-modal__body">
          Modal content goes here.
        </div>
        <div class="engram-modal__footer">
          <button id="modal-cancel" class="engram-button">Cancel</button>
          <button id="modal-action" class="engram-button engram-button--primary">OK</button>
        </div>
      </div>
    </div>
  </div>
</template>

<\!-- Notifications Container -->
<div class="engram-notifications" id="engram-notifications"></div>

<\!-- Style Sheet -->
<link rel="stylesheet" href="/styles/engram/engram-component.css">

<\!-- Component Script -->
<script src="/scripts/engram/engram-component.js"></script>

<\!-- LLM Service Script -->
<script src="/scripts/engram/engram-llm-service.js"></script>
EOF < /dev/null