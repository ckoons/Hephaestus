{"ast":null,"code":"import React,{useState}from'react';import{Box,TextField,Typography,Popover,Paper}from'@mui/material';/**\n * A color picker input component with a text field and color swatch\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ColorPickerInput=_ref=>{let{label,value,onChange,fullWidth=false}=_ref;const[anchorEl,setAnchorEl]=useState(null);const[inputValue,setInputValue]=useState(value);const handleColorClick=event=>{setAnchorEl(event.currentTarget);};const handleClose=()=>{setAnchorEl(null);};const handleInputChange=e=>{let newValue=e.target.value;// Ensure the value starts with a hash\nif(!newValue.startsWith('#')&&newValue.length>0){newValue=`#${newValue}`;}setInputValue(newValue);// Only update if it's a valid hex color\nif(/^#([0-9A-F]{3}){1,2}$/i.test(newValue)){onChange(newValue);}};const handleColorPickerChange=e=>{const newColor=e.target.value;setInputValue(newColor);onChange(newColor);};const open=Boolean(anchorEl);const id=open?'color-popover':undefined;return/*#__PURE__*/_jsxs(Box,{sx:{mb:2,width:fullWidth?'100%':'auto'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",gutterBottom:true,children:label}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(Box,{sx:{width:36,height:36,borderRadius:1,bgcolor:value,border:'1px solid',borderColor:'divider',mr:1,cursor:'pointer',transition:'transform 0.2s','&:hover':{transform:'scale(1.05)'}},onClick:handleColorClick}),/*#__PURE__*/_jsx(TextField,{size:\"small\",value:inputValue,onChange:handleInputChange,onBlur:()=>{// Reset to the current value if invalid\nif(!/^#([0-9A-F]{3}){1,2}$/i.test(inputValue)){setInputValue(value);}},InputProps:{startAdornment:/*#__PURE__*/_jsx(Box,{component:\"span\",sx:{mr:0.5},children:\"#\"})},sx:{'& input':{fontFamily:'monospace',paddingLeft:0},'& .MuiInputBase-root':{paddingLeft:1},width:fullWidth?'100%':120}}),/*#__PURE__*/_jsx(\"input\",{type:\"color\",value:value,onChange:handleColorPickerChange,style:{marginLeft:8,width:36,height:36,border:'none',cursor:'pointer',backgroundColor:'transparent',padding:0}})]}),/*#__PURE__*/_jsx(Popover,{id:id,open:open,anchorEl:anchorEl,onClose:handleClose,anchorOrigin:{vertical:'bottom',horizontal:'left'},transformOrigin:{vertical:'top',horizontal:'left'},children:/*#__PURE__*/_jsx(Paper,{sx:{p:2},children:/*#__PURE__*/_jsx(\"input\",{type:\"color\",value:value,onChange:handleColorPickerChange,style:{width:200,height:100,border:'none',cursor:'pointer',backgroundColor:'transparent',padding:0}})})})]});};export default ColorPickerInput;","map":{"version":3,"names":["React","useState","Box","TextField","Typography","Popover","Paper","jsx","_jsx","jsxs","_jsxs","ColorPickerInput","_ref","label","value","onChange","fullWidth","anchorEl","setAnchorEl","inputValue","setInputValue","handleColorClick","event","currentTarget","handleClose","handleInputChange","e","newValue","target","startsWith","length","test","handleColorPickerChange","newColor","open","Boolean","id","undefined","sx","mb","width","children","variant","gutterBottom","display","alignItems","height","borderRadius","bgcolor","border","borderColor","mr","cursor","transition","transform","onClick","size","onBlur","InputProps","startAdornment","component","fontFamily","paddingLeft","type","style","marginLeft","backgroundColor","padding","onClose","anchorOrigin","vertical","horizontal","transformOrigin","p"],"sources":["/Users/cskoons/projects/github/Tekton/Hephaestus/src/src/components/settings/ColorPickerInput.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Box, TextField, Typography, Popover, Paper } from '@mui/material';\n\n/**\n * A color picker input component with a text field and color swatch\n */\nconst ColorPickerInput = ({ label, value, onChange, fullWidth = false }) => {\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [inputValue, setInputValue] = useState(value);\n\n  const handleColorClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleInputChange = (e) => {\n    let newValue = e.target.value;\n    \n    // Ensure the value starts with a hash\n    if (!newValue.startsWith('#') && newValue.length > 0) {\n      newValue = `#${newValue}`;\n    }\n    \n    setInputValue(newValue);\n    \n    // Only update if it's a valid hex color\n    if (/^#([0-9A-F]{3}){1,2}$/i.test(newValue)) {\n      onChange(newValue);\n    }\n  };\n\n  const handleColorPickerChange = (e) => {\n    const newColor = e.target.value;\n    setInputValue(newColor);\n    onChange(newColor);\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? 'color-popover' : undefined;\n\n  return (\n    <Box sx={{ mb: 2, width: fullWidth ? '100%' : 'auto' }}>\n      <Typography variant=\"body2\" gutterBottom>\n        {label}\n      </Typography>\n      <Box sx={{ display: 'flex', alignItems: 'center' }}>\n        <Box\n          sx={{\n            width: 36,\n            height: 36,\n            borderRadius: 1,\n            bgcolor: value,\n            border: '1px solid',\n            borderColor: 'divider',\n            mr: 1,\n            cursor: 'pointer',\n            transition: 'transform 0.2s',\n            '&:hover': {\n              transform: 'scale(1.05)',\n            },\n          }}\n          onClick={handleColorClick}\n        />\n        <TextField\n          size=\"small\"\n          value={inputValue}\n          onChange={handleInputChange}\n          onBlur={() => {\n            // Reset to the current value if invalid\n            if (!/^#([0-9A-F]{3}){1,2}$/i.test(inputValue)) {\n              setInputValue(value);\n            }\n          }}\n          InputProps={{\n            startAdornment: <Box component=\"span\" sx={{ mr: 0.5 }}>#</Box>,\n          }}\n          sx={{\n            '& input': {\n              fontFamily: 'monospace',\n              paddingLeft: 0,\n            },\n            '& .MuiInputBase-root': {\n              paddingLeft: 1,\n            },\n            width: fullWidth ? '100%' : 120,\n          }}\n        />\n        <input\n          type=\"color\"\n          value={value}\n          onChange={handleColorPickerChange}\n          style={{\n            marginLeft: 8,\n            width: 36,\n            height: 36,\n            border: 'none',\n            cursor: 'pointer',\n            backgroundColor: 'transparent',\n            padding: 0,\n          }}\n        />\n      </Box>\n      \n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'left',\n        }}\n      >\n        <Paper sx={{ p: 2 }}>\n          <input\n            type=\"color\"\n            value={value}\n            onChange={handleColorPickerChange}\n            style={{\n              width: 200,\n              height: 100,\n              border: 'none',\n              cursor: 'pointer',\n              backgroundColor: 'transparent',\n              padding: 0,\n            }}\n          />\n        </Paper>\n      </Popover>\n    </Box>\n  );\n};\n\nexport default ColorPickerInput;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}