{"ast":null,"code":"import React,{useState}from'react';import{useLocation,useNavigate}from'react-router-dom';import{useSelector}from'react-redux';import{getComponentSpecialty}from'../../utils/componentUtils';import{Box,Drawer,AppBar,Toolbar,Typography,Divider,useMediaQuery,IconButton,useTheme}from'@mui/material';import MenuIcon from'@mui/icons-material/Menu';import CloseIcon from'@mui/icons-material/Close';import Sidebar from'./Sidebar';import ChatInput from'../chat/ChatInput';import ConnectionStatus from'../common/ConnectionStatus';// Define sidebar width\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SIDEBAR_WIDTH=250;const MainLayout=_ref=>{let{children}=_ref;const theme=useTheme();const isMobile=useMediaQuery(theme.breakpoints.down('md'));const[mobileOpen,setMobileOpen]=useState(false);const location=useLocation();const navigate=useNavigate();// Get active component from Redux store\nconst components=useSelector(state=>state.components.list);const activeComponentId=useSelector(state=>state.components.activeComponentId);const showGreekNames=useSelector(state=>state.settings.showGreekNames);// Find active component\nconst activeComponent=activeComponentId?components.find(c=>c.id===activeComponentId):null;// Get page title based on route\nconst getPageTitle=()=>{if(location.pathname==='/')return'Tekton - Projects';if(location.pathname==='/settings')return'Settings';if(location.pathname==='/budget')return'Budget Controls';if(activeComponent){const specialty=getComponentSpecialty(activeComponent.name);return showGreekNames?`${activeComponent.name} - ${specialty}`:specialty;}return'Tekton';};const handleDrawerToggle=()=>{setMobileOpen(!mobileOpen);};return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',height:'100vh'},children:[/*#__PURE__*/_jsx(AppBar,{position:\"fixed\",sx:{display:{xs:'block',md:'none'},width:'100%',zIndex:theme=>theme.zIndex.drawer+1},children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(IconButton,{color:\"inherit\",\"aria-label\":\"open drawer\",edge:\"start\",onClick:handleDrawerToggle,sx:{mr:2},children:mobileOpen?/*#__PURE__*/_jsx(CloseIcon,{}):/*#__PURE__*/_jsx(MenuIcon,{})}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",noWrap:true,component:\"div\",children:getPageTitle()}),/*#__PURE__*/_jsx(Box,{sx:{flexGrow:1}}),/*#__PURE__*/_jsx(ConnectionStatus,{})]})}),/*#__PURE__*/_jsx(Drawer,{variant:isMobile?'temporary':'permanent',open:isMobile?mobileOpen:true,onClose:isMobile?handleDrawerToggle:undefined,sx:{width:SIDEBAR_WIDTH,flexShrink:0,'& .MuiDrawer-paper':{width:SIDEBAR_WIDTH,boxSizing:'border-box',backgroundColor:theme.palette.background.sidebar}},ModalProps:{keepMounted:true// Better mobile performance\n},children:/*#__PURE__*/_jsx(Sidebar,{onItemClick:isMobile?handleDrawerToggle:undefined})}),/*#__PURE__*/_jsxs(Box,{component:\"main\",sx:{flexGrow:1,display:'flex',flexDirection:'column',height:'100vh',overflow:'hidden',pt:{xs:8,md:0}// Add padding on mobile for the app bar\n},children:[/*#__PURE__*/_jsx(AppBar,{position:\"static\",color:\"default\",elevation:0,sx:{display:{xs:'none',md:'block'},borderBottom:`1px solid ${theme.palette.divider}`},children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"div\",children:getPageTitle()}),/*#__PURE__*/_jsx(Box,{sx:{flexGrow:1}}),/*#__PURE__*/_jsx(ConnectionStatus,{})]})}),/*#__PURE__*/_jsx(Box,{sx:{flexGrow:1,overflow:'auto',display:'flex',flexDirection:'column'},children:children}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Box,{sx:{p:2},children:/*#__PURE__*/_jsx(ChatInput,{})})]})]});};export default MainLayout;","map":{"version":3,"names":["React","useState","useLocation","useNavigate","useSelector","getComponentSpecialty","Box","Drawer","AppBar","Toolbar","Typography","Divider","useMediaQuery","IconButton","useTheme","MenuIcon","CloseIcon","Sidebar","ChatInput","ConnectionStatus","jsx","_jsx","jsxs","_jsxs","SIDEBAR_WIDTH","MainLayout","_ref","children","theme","isMobile","breakpoints","down","mobileOpen","setMobileOpen","location","navigate","components","state","list","activeComponentId","showGreekNames","settings","activeComponent","find","c","id","getPageTitle","pathname","specialty","name","handleDrawerToggle","sx","display","height","position","xs","md","width","zIndex","drawer","color","edge","onClick","mr","variant","noWrap","component","flexGrow","open","onClose","undefined","flexShrink","boxSizing","backgroundColor","palette","background","sidebar","ModalProps","keepMounted","onItemClick","flexDirection","overflow","pt","elevation","borderBottom","divider","p"],"sources":["/Users/cskoons/projects/github/Tekton/Hephaestus/src/src/components/layouts/MainLayout.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { getComponentSpecialty } from '../../utils/componentUtils';\nimport {\n  Box,\n  Drawer,\n  AppBar,\n  Toolbar,\n  Typography,\n  Divider,\n  useMediaQuery,\n  IconButton,\n  useTheme,\n} from '@mui/material';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport CloseIcon from '@mui/icons-material/Close';\n\nimport Sidebar from './Sidebar';\nimport ChatInput from '../chat/ChatInput';\nimport ConnectionStatus from '../common/ConnectionStatus';\n\n// Define sidebar width\nconst SIDEBAR_WIDTH = 250;\n\nconst MainLayout = ({ children }) => {\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\n  const [mobileOpen, setMobileOpen] = useState(false);\n  const location = useLocation();\n  const navigate = useNavigate();\n  \n  // Get active component from Redux store\n  const components = useSelector((state) => state.components.list);\n  const activeComponentId = useSelector((state) => state.components.activeComponentId);\n  const showGreekNames = useSelector((state) => state.settings.showGreekNames);\n  \n  // Find active component\n  const activeComponent = activeComponentId \n    ? components.find(c => c.id === activeComponentId) \n    : null;\n  \n  // Get page title based on route\n  const getPageTitle = () => {\n    if (location.pathname === '/') return 'Tekton - Projects';\n    if (location.pathname === '/settings') return 'Settings';\n    if (location.pathname === '/budget') return 'Budget Controls';\n    if (activeComponent) {\n      const specialty = getComponentSpecialty(activeComponent.name);\n      return showGreekNames \n        ? `${activeComponent.name} - ${specialty}`\n        : specialty;\n    }\n    return 'Tekton';\n  };\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  return (\n    <Box sx={{ display: 'flex', height: '100vh' }}>\n      {/* App Bar (mobile only) */}\n      <AppBar\n        position=\"fixed\"\n        sx={{\n          display: { xs: 'block', md: 'none' },\n          width: '100%',\n          zIndex: (theme) => theme.zIndex.drawer + 1,\n        }}\n      >\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            edge=\"start\"\n            onClick={handleDrawerToggle}\n            sx={{ mr: 2 }}\n          >\n            {mobileOpen ? <CloseIcon /> : <MenuIcon />}\n          </IconButton>\n          <Typography variant=\"h6\" noWrap component=\"div\">\n            {getPageTitle()}\n          </Typography>\n          <Box sx={{ flexGrow: 1 }} />\n          <ConnectionStatus />\n        </Toolbar>\n      </AppBar>\n\n      {/* Sidebar */}\n      <Drawer\n        variant={isMobile ? 'temporary' : 'permanent'}\n        open={isMobile ? mobileOpen : true}\n        onClose={isMobile ? handleDrawerToggle : undefined}\n        sx={{\n          width: SIDEBAR_WIDTH,\n          flexShrink: 0,\n          '& .MuiDrawer-paper': {\n            width: SIDEBAR_WIDTH,\n            boxSizing: 'border-box',\n            backgroundColor: theme.palette.background.sidebar,\n          },\n        }}\n        ModalProps={{\n          keepMounted: true, // Better mobile performance\n        }}\n      >\n        <Sidebar onItemClick={isMobile ? handleDrawerToggle : undefined} />\n      </Drawer>\n\n      {/* Main content */}\n      <Box\n        component=\"main\"\n        sx={{\n          flexGrow: 1,\n          display: 'flex',\n          flexDirection: 'column',\n          height: '100vh',\n          overflow: 'hidden',\n          pt: { xs: 8, md: 0 }, // Add padding on mobile for the app bar\n        }}\n      >\n        {/* Desktop header */}\n        <AppBar \n          position=\"static\" \n          color=\"default\" \n          elevation={0}\n          sx={{ \n            display: { xs: 'none', md: 'block' },\n            borderBottom: `1px solid ${theme.palette.divider}`,\n          }}\n        >\n          <Toolbar>\n            <Typography variant=\"h6\" component=\"div\">\n              {getPageTitle()}\n            </Typography>\n            <Box sx={{ flexGrow: 1 }} />\n            <ConnectionStatus />\n          </Toolbar>\n        </AppBar>\n\n        {/* Page content */}\n        <Box sx={{ \n          flexGrow: 1, \n          overflow: 'auto',\n          display: 'flex',\n          flexDirection: 'column',\n        }}>\n          {children}\n        </Box>\n\n        {/* Chat input */}\n        <Divider />\n        <Box sx={{ p: 2 }}>\n          <ChatInput />\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nexport default MainLayout;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}